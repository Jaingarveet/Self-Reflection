Solution:
Let's break this down step by step:

1. Initially, the bag contains 3[REDACTED] white marbles.
2. 20 marbles are pulled out, painted black, and put back in. Now, there are 3180 white marbles and 20 black marbles.
3. Another 20 marbles are pulled out. Since 1 marble is black, there are 19 white marbles and 1 black marble, making the total number of marbles 3181.
4. All the marbles are returned to the bag, so the final number of marbles in the bag is 3181.

The percentage of black marbles pulled out the second time is 1/20 = 5%. Since this represents the percentage of black marbles in the bag, the number of black marbles in the bag is 5% of 3181 = 159.

Therefore, the total number of marbles in the bag is 3181 + 159 = 33[REDACTED].

Action: Answer("[REDACTED]")

