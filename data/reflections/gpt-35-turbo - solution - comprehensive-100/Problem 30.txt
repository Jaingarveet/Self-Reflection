Solution:
If G is placed on the top shelf, then at least two books are placed on each shelf. 
I is placed on the middle shelf, so at least one book is placed on the bottom shelf.
K is placed on a higher shelf than F, so K cannot be on the bottom shelf with L, M, and O.
O is placed on a higher shelf than L, so O cannot be on the bottom shelf with L and M.
F is placed on the same shelf as M, so F and M must be on the same shelf as K or O.
Therefore, the only possible arrangement is:
Top shelf: G, H
Middle shelf: I, K, O
Bottom shelf: F, L, M
The books placed on the middle shelf are I, K, and L.
