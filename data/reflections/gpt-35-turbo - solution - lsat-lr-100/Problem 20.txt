Solution:
The defendant admits noncompliance with national building codes.
The defendant's excuse is that he was confused as to whether national or local building codes applied to the area in which he was building.
The judge's reasoning is that the defendant's excuse is unacceptable because he was charged with noncompliance with national codes, and any behavior required by national codes is also required by local codes.
